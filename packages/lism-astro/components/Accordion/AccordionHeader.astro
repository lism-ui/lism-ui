---
import { LismProps } from '../types';
import { Flex, FlexItem } from '../Flex';
import { Icon } from '../Icon';
// import AccordionLabel from './AccordionLabel.astro';
// import AccordionIcon from './AccordionIcon.astro';
import {
	getAccHeadProps,
	getAccLabelProps,
	getAccIconProps,
} from '@lism-ui/core/components/Accordion/getProps';

interface Props extends LismProps {}

const {
	isFreeMode,
	tag,
	icon = 'caret-down',
	openIcon,
	closeIcon,
	trigger,
	...props
} = Astro.props || {};

// const hasIconSlot = Astro.slots.has('icon');
// const hasIcon = !!icon || hasIconSlot;
---

<Flex tag='summary' {...getAccHeadProps(props)}>
	<FlexItem {...getAccLabelProps(tag)}>
		<slot />
	</FlexItem>
	<FlexItem {...getAccIconProps(trigger)}>
		{
			openIcon ? (
				<>
					<Icon icon={openIcon} class='b--accordion__iconOpen ' />
					<Icon icon={closeIcon} class='b--accordion__iconClose ' />
				</>
			) : (
				<Icon icon={icon} />
			)
		}
	</FlexItem>
</Flex>
