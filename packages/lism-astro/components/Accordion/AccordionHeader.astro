---
import { LismProps } from '../types';
import { Flex } from '../Flex';
import AccordionLabel from './AccordionLabel.astro';
import AccordionIcon from './AccordionIcon.astro';
import { getAccHeadProps } from '@lism-ui/core/components/Accordion/getProps';

interface Props extends LismProps {}

const { isFreeMode, tag, icon, trigger, ...props } = Astro.props || {};

// const hasSlot = Astro.slots.has('default');
---

<Flex tag='summary' ai='center' {...getAccHeadProps(props)}>
	{
		isFreeMode ? (
			<slot />
		) : (
			<>
				<AccordionLabel tag={tag}>
					<slot />
				</AccordionLabel>
				<AccordionIcon icon={icon} isTrigger={trigger === 'icon'} />
			</>
		)
	}
</Flex>
