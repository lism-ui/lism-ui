---
import { LismProps } from '../types';
import getLismProps from '@lism-ui/core/lib/getLismProps';
import getProps from '@lism-ui/core/components/Icon/getProps';
import SVG from './SVG.astro';

// Propsの定義
interface Props extends LismProps {}

let { asProps = {}, ...props } = Astro.props || {};

// const hasChildren = Astro.slots.has('default');
// let { IconTag, iconProps, otherProps } = getProps(props, hasChildren);
// if (IconTag === '_SVG_') IconTag = SVG;

let { IconComponent, iconTag, iconProps, emoji, otherProps } = getProps(props);

let TheComponent = IconComponent || iconTag;
if (TheComponent === 'svg') {
	TheComponent = SVG;
}
---

<TheComponent {...getLismProps(otherProps)} {...iconProps} {...asProps}>
	{emoji || <slot />}
</TheComponent>
